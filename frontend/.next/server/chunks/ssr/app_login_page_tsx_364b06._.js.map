{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/jaskaransingh/projects/LibraryManagerAI/frontend/app/login/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect } from \"react\";\n\nexport default function LoginPage() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const { login, user } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (user) {\n      router.push(\"/\");\n    }\n  }, [user, router]);\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"http://localhost:3002/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ username, password }),\n      });\n\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || \"Login failed\");\n\n      login(data);\n      router.push(\"/\"); // Redirect to home page after successful login\n    } catch (err: any) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <div className=\"p-10 flex h-screen justify-center items-center \">\n      <form\n        onSubmit={handleLogin}\n        className=\"flex flex-col gap-3 bg-gray-800 p-6 rounded-xl h-1/2 w-1/2 border-2 mt-8\"\n      >\n        <h1 className=\"text-white font-bold \">Login</h1>\n        <input\n          className=\"p-2 rounded bg-black text-white\"\n          placeholder=\"Username\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n        <input\n          className=\"p-2 rounded bg-black text-white\"\n          placeholder=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button className=\"bg-red-700 text-white p-2 rounded mt-6\">\n          Login\n        </button>\n        {error && <p className=\"text-red-400\">{error}</p>}\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,UAAO,AAAD;IAC9B,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,MAAM;YACR,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;KAAO;IAEjB,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,+BAA+B;gBACrD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC5C;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAE3C,MAAM;YACN,OAAO,IAAI,CAAC,MAAM,+CAA+C;QACnE,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,UAAU;YACV,WAAU;;8BAEV,8OAAC;oBAAG,WAAU;8BAAwB;;;;;;8BACtC,8OAAC;oBACC,WAAU;oBACV,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;8BAE7C,8OAAC;oBACC,WAAU;oBACV,aAAY;oBACZ,MAAK;oBACL,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;8BAE7C,8OAAC;oBAAO,WAAU;8BAAyC;;;;;;gBAG1D,uBAAS,8OAAC;oBAAE,WAAU;8BAAgB;;;;;;;;;;;;;;;;;AAI/C"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}